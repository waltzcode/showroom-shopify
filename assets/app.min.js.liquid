(function(){"use strict";var a;a=angular.module("showroomApp",["ngRoute","showroomServices","showroomControllers","showroomFilters","showroomDirectives","angular-loading-bar"]),angular.module("showroomServices",["ngCookies"]),angular.module("showroomControllers",[]),angular.module("showroomFilters",[]),angular.module("showroomDirectives",[]),a.constant("SHOWROOM_CONSTANTS",{serviceHost:"//services.showroomapp.net",showroomCDN:"//cdn.showroomapp.tv/",sessionParam:"showroomSId",serviceBundleId:"showroom.ios",serviceVersion:"1.0.8",BeautyChannelId:"84fccf26862232b49f2ad44fca89c667",registerSessionURL:"/session/register",getGlobalLastestFeedURL:"/show/browse/latest/",getGlobalMostLikeFeedURL:"/show/browse/most/like/",getGlobalMostViewFeedURL:"/show/browse/most/view/",getGlobalMostShareFeedURL:"/show/browse/most/share/",getGlobalFeaturedFeedURL:"/show/browse/featured/",getFeaturedByChannelURL:"/show/browse/channel/featured/",getLastestByChannelURL:"/show/browse/channel/latest/",getMostLikeByChannelURL:"/show/browse/channel/most/like/",getMostViewByChannelURL:"/show/browse/channel/most/view/",getMostShareByChannelURL:"/show/browse/channel/most/share/",getPersonalFeedURL:"/account/me/feed/",getPersonalShowURL:"/show/me/list/",getShowByUserURL:"/show/list/by/account/",getShowByUsernameURL:"/show/list/by/username/",getListChannelURL:"/channel/list/",registerEmailAccountURL:"/account/email/register/",resetEmailAccountPasswordURL:"/account/email/resetpassword/",changeEmailAccountPasswordURL:"/account/email/changepassword/",loginEmailAccountURL:"/account/email/login/",loginFacebookAccountURL:"/account/facebook/login/",getLoggedInAccountInfoURL:"/account/me/info/",logoutURL:"/account/me/logout/",getAccountProfileURL:"/account/info/",searchAccountByKeywordsURL:"/search/account/name/",searchShowByKeywordsURL:"/search/show/product/"}),a.config(["$interpolateProvider","$sceDelegateProvider","$sceProvider","$logProvider",function(a,b,c,d){return a.startSymbol("{[{").endSymbol("}]}"),c.enabled(!1),d.debugEnabled(!0)}]),a.run(["$rootScope","$log","userService","$q",function(a,b,c,d){return c.getLoggedInAccountInfo().then(function(b){return 1e3===b.data.code?(a.loggedIn=!0,a.userInfo=b.payload):void 0})["catch"](function(a){return b.error(a)}),a.logout=function(){return c.logout().then(function(b){return 1e3===b.data.code?(a.loggedIn=!1,a.userInfo=void 0):void 0})["catch"](function(a){return b.error(a)})}}]),angular.module("showroomApp").config(["$routeProvider",function(a){return a.when("/",{templateUrl:"{{ 'views-home.html' | asset_url }}",controller:"HomeController"}).when("/login",{templateUrl:"{{ 'views-login.html' | asset_url }}",controller:"LoginController"}).when("/signup",{templateUrl:"{{ 'views-signup.html' | asset_url }}",controller:"SignUpController"}).when("/featured",{templateUrl:"{{ 'views-list-show.html' | asset_url }}",controller:"FeaturedController"}).when("/popular",{templateUrl:"{{ 'views-list-show.html' | asset_url }}",controller:"PopularController"}).when("/newest",{templateUrl:"{{ 'views-list-show.html' | asset_url }}",controller:"NewestController"}).when("/myshow",{templateUrl:"{{ 'views-list-show.html' | asset_url }}",controller:"MyShowController"}).when("/search/user",{templateUrl:"{{ 'views-user-search.html' | asset_url }}",controller:"UserSearchController"}).when("/search/show",{templateUrl:"{{ 'views-show-search.html' | asset_url }}",controller:"ShowSearchController"}).when("/category/:channelId",{templateUrl:"{{ 'views-channel-detail.html' | asset_url }}",controller:"ChannelDetailController"}).when("/account/:accountId",{templateUrl:"{{ 'views-account-detail.html' | asset_url }}",controller:"AccountDetailController"}).when("/user/:username",{templateUrl:"{{ 'views-account-detail.html' | asset_url }}",controller:"UserDetailController"}).otherwise({templateUrl:"{{ 'views-home.html' | asset_url }}",controller:"HomeController"})}]),angular.module("showroomServices").factory("channelService",["sessionService","$q","SHOWROOM_CONSTANTS","$log",function(a,b,c,d){return{getListChannel:function(){return a.callService("GET",c.getListChannelURL)}}}]),angular.module("showroomServices").factory("facebookService",["$q","$window",function(a,b){return{checkLoginStatus:function(){var c;return c=a.defer(),b.FB.getLoginStatus(function(a){return!a||a.erorr?c.reject(a.error||"Facebook::Error when check login status."):c.resolve(a)}),c.promise},login:function(){var c;return c=a.defer(),b.FB.login(function(a){return!a||a.erorr?c.reject(a.error||"Facebook::Error when login."):c.resolve(a)}),c.promise}}}]),angular.module("showroomServices").factory("sessionService",["$cookies","$http","$q","SHOWROOM_CONSTANTS","$log",function(a,b,c,d,e){return{getSessionId:function(){var e,f,g,h,i,j;return f=c.defer(),j=a.get(d.sessionParam),i=new Date,g=new Date(i.getTime()+2e6),h=function(){var a;return a=function(a){var b;return b=(Math.random().toString(16)+"000000000").substr(2,8),a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b},a()+a(!0)+a(!0)+a()},e={deviceId:h(),model:"WC_MR.Richard",name:"Website Client",osName:"",osVersion:"",bundleId:d.serviceBundleId,bundleVersion:d.serviceVersion,langCode:""},j?(a.put(d.sessionParam,j,{expires:g}),f.resolve(j)):b.post(d.serviceHost+d.registerSessionURL,e).then(function(b){return 1e3===b.data.code?(a.put(d.sessionParam,b.data.payload.sessionId,{expires:g}),f.resolve(b.data.payload.sessionId)):f.reject(b.data.message)})["catch"](function(a){return f.reject(a)}),f.promise},callService:function(a,c,e){return this.getSessionId().then(function(f){var g;return g=d.serviceHost+c+f,b({url:g,method:a,data:e})})}}}]),angular.module("showroomServices").factory("showService",["SHOWROOM_CONSTANTS","sessionService",function(a,b){var c;return c=function(a,b){var c,d;return c=b.pageNumber||0,d=b.pageSize||15,a+c+"/"+d+"/"},{getGlobalLastestFeed:function(d){return b.callService("GET",c(a.getGlobalLastestFeedURL,d))},getGlobalMostLikeFeed:function(d){return b.callService("GET",c(a.getGlobalMostLikeFeedURL,d))},getGlobalMostViewFeed:function(d){return b.callService("GET",c(a.getGlobalMostViewFeedURL,d))},getGlobalMostShareFeed:function(d){return b.callService("GET",c(a.getGlobalMostShareFeedURL,d))},getGlobalFeaturedFeed:function(d){return b.callService("GET",c(a.getGlobalFeaturedFeedURL,d))},getPersonalFeed:function(d){return b.callService("GET",c(a.getPersonalFeedURL,d))},getPersonalShow:function(d){return b.callService("GET",c(a.getPersonalShowURL,d))},searchShowByKeywords:function(d){return b.callService("GET",c(a.searchShowByKeywordsURL+d.keywords+"/",d))},getShowByUser:function(d){return b.callService("GET",c(a.getShowByUserURL+d.accountId+"/",d))},getShowByUsername:function(d){return b.callService("GET",c(a.getShowByUsernameURL+d.username+"/",d))},getFeaturedByChannel:function(d){return b.callService("GET",c(a.getFeaturedByChannelURL+d.channelId+"/",d))}}}]),angular.module("showroomServices").factory("userService",["SHOWROOM_CONSTANTS","sessionService",function(a,b){return{registerEmailAccount:function(c){return b.callService("POST",a.registerEmailAccountURL,c)},resetEmailAccountPassword:function(c){return b.callService("POST",a.resetEmailAccountPasswordURL,c)},changeEmailAccountPassword:function(c){return b.callService("POST",a.changeEmailAccountPasswordURL,c)},loginEmailAccount:function(c){return b.callService("PUT",a.loginEmailAccountURL,c)},loginFacebookAccount:function(c){return b.callService("PUT",a.loginFacebookAccountURL,c)},getLoggedInAccountInfo:function(){return b.callService("GET",a.getLoggedInAccountInfoURL,null)},logout:function(){return b.callService("GET",a.logoutURL,null)},searchAccountByKeywords:function(c){var d,e,f,g;return d=c.keywords,e=c.pageNumber||0,f=c.pageSize||15,g=a.searchAccountByKeywordsURL+d+"/"+e+"/"+f+"/",b.callService("GET",g)},getAccountProfile:function(c){var d,e;return d=c.accountId,e=a.getAccountProfileURL+d+"/",b.callService("GET",e)}}}]),angular.module("showroomServices").factory("videoService",["SHOWROOM_CONSTANTS","$filter","$sce",function(a,b,c){var d;return d=function(d){var e,f,g,h,i,j,k,l,m;if(this.response=d.response,this.currencySymbol=d.currencySymbol||"$",this.exceprtTitleLength=d.exceprtTitleLength||35,this.excerptMore=d.excerptMore||" ...",this.videoSize=d.videoSize||"400",this.thumbnailSize=d.thumbnailSize||"700",1e3===this.response.code){for(l=this.response.payload.listShows||this.response.payload.items,j=this.response.payload.listProducts,i={},f=0,g=j.length;g>f;f++)h=j[f],i[h.id]=h;return m=function(){var d,f,g;for(g=[],e=d=0,f=l.length;f>d;e=++d)k=l[e],g.push({sources:[{src:c.trustAsResourceUrl(a.showroomCDN+k.videoSets[this.videoSize]),type:"video/mp4"}],poster:c.trustAsResourceUrl(a.showroomCDN+k.thumbnailSets[this.thumbnailSize]),likeCounter:k.likeCounter,viewCounter:k.viewCounter,commentCounter:k.commentCounter,shareCounter:k.shareCounter,productName:b("excerptTitle")(i[k.productId].name,this.exceprtTitleLength,this.excerptMore),productTitle:i[k.productId].name,price:b("number")(i[k.productId].price,2),productLinkUrl:b("productLink")(b("jsonParse")(i[k.productId].metaData).url),productLinkTarget:b("productTarget")(b("jsonParse")(i[k.productId].metaData).url)});return g}.call(this)}},{parseVideo:d}}]),angular.module("showroomControllers").controller("AccountDetailController",["$scope","showService","userService","$log","$routeParams","videoService",function(a,b,c,d,e,f){return a.header="Account Show",a.currentPage=0,a.hasMore=!0,a.totalItem=0,a.loadMore=function(){return b.getShowByUser({accountId:e.accountId,pageNumber:a.currentPage++}).then(function(b){return 1e3===b.data.code?a.videos&&angular.isArray(a.videos)?a.videos=a.videos.concat(f.parseVideo({response:b.data})):a.videos=f.parseVideo({response:b.data}):d.error(b.data.message),b.data.payload&&a.videos.length>=a.totalItem?a.hasMore=!1:void 0})},c.getAccountProfile({accountId:e.accountId}).then(function(b){var c;return 1e3===b.data.code&&(c=b.data.payload.accountInfo,a.totalItem=b.data.payload.showCounter,a.header=c.firstName+" "+c.lastName+" SHOW"),a.loadMore()})}]),angular.module("showroomControllers").controller("ChannelDetailController",["$scope","showService","$log","$routeParams","videoService",function(a,b,c,d,e){return a.currentPage=0,a.hasMore=!0,a.loadMore=function(){return b.getFeaturedByChannel({channelId:d.channelId,pageNumber:a.currentPage++}).then(function(b){return 1e3!==b.data.code?c.error(b.data.message):(a.header=b.data.payload.channel.name+" Category",a.videos&&angular.isArray(a.videos)?a.videos=a.videos.concat(e.parseVideo({response:b.data})):a.videos=e.parseVideo({response:b.data}),b.data.payload&&a.videos.length>=b.data.payload.totalItem?a.hasMore=!1:void 0)})},a.loadMore()}]),angular.module("showroomControllers").controller("FeaturedController",["$scope","showService","videoService","$log","SHOWROOM_CONSTANTS",function(a,b,c,d,e){return a.header="Featured",a.currentPage=0,a.hasMore=!0,a.loadMore=function(){return b.getFeaturedByChannel({channelId:e.BeautyChannelId,pageNumber:a.currentPage++}).then(function(b){return angular.isArray(a.videos)?a.videos=a.videos.concat(c.parseVideo({response:b.data})):a.videos=c.parseVideo({response:b.data}),b.data.payload&&a.videos.length>=b.data.payload.totalItem?a.hasMore=!1:void 0})},a.loadMore()}]),angular.module("showroomControllers").controller("HeaderController",["$scope","$location","channelService","$log","$filter","SHOWROOM_CONSTANTS",function(a,b,c,d,e,f){return c.getListChannel().then(function(b){var c;return 1e3===b.data.code?(c=b.data.payload.items,a.channels=e("filter")(c,{parentChannelId:f.BeautyChannelId},!0)):void 0}),a.searchUser=function(){return a.userKeywords?(a.showKeywords="",b.search("q",a.userKeywords),b.path("/user/search")):void 0},a.searchShow=function(){return a.showKeywords?(a.userKeywords="",b.search("q",a.showKeywords),b.path("/show/search")):void 0}}]),angular.module("showroomControllers").controller("HomeController",["showService","videoService","$scope","$rootScope","$log","$q","$location",function(a,b,c,d,e,f,g){return d.removeHeader=!1,d.removeBrand=!1,d.removeNav=!1,d.removeFooter=!1,d.loggedIn&&(a.getPersonalFeed({pageNumber:0,pageSize:15}).then(function(a){return c.myFeedVideos=b.parseVideo({response:a.data})}),a.getPersonalShow({pageNumber:0,pageSize:15}).then(function(a){return c.myShowVideos=b.parseVideo({response:a.data})})),a.getGlobalFeaturedFeed({pageNumber:0,pageSize:15}).then(function(a){return c.featuredVideos=b.parseVideo({response:a.data})}),a.getGlobalMostLikeFeed({pageNumber:0,pageSize:15}).then(function(a){return c.popularVideos=b.parseVideo({response:a.data})}),a.getGlobalLastestFeed({pageNumber:0,pageSize:15}).then(function(a){return c.newestVideos=b.parseVideo({response:a.data})})}]),angular.module("showroomControllers").controller("LoginController",["userService","facebookService","$scope","$rootScope","$log","$location",function(a,b,c,d,e,f){return d.removeHeader=!0,d.removeBrand=!0,d.removeNav=!0,d.removeFooter=!0,c.errors=[],d.loggedIn&&f.patch("/"),c.email="",c.password="",c.loginEmail=function(){return c.loginForm.$invalid?c.showMessages=!0:a.loginEmailAccount({email:c.email,password:c.password}).then(function(b){return 1e3===b.data.code?(d.loggedIn=!0,a.getLoggedInAccountInfo().then(function(a){return 1e3===a.data.code?d.userInfo=a.data.payload:void 0})["finally"](function(){return f.path("/")})):c.message="Email or password is invalid."})["catch"](function(a){return c.message="Internal server error",e.error(a)})},c.connectFacebook=function(){return b.login().then(function(b){return"connected"===b.status?a.loginFacebookAccount({socialToken:b.authResponse.accessToken}):new Error("Nothing")}).then(function(b){return 1e3===b.data.code?(d.loggedIn=!0,a.getLoggedInAccountInfo().then(function(a){return 1e3===a.data.code?d.userInfo=a.data.payload:void 0})["finally"](function(){return f.path("/")})):void 0})["catch"](function(a){return e.error(a)})},c.popupForgetPwd=function(){return $.fancybox({href:"#forgot-password"})}}]).controller("ForgotPwdController",["$scope","userService","$log",function(a,b,c){return a.headerText="FORGOT PASSWORDS?",a.message="<p>Having a hard time remembering your SHOWROOM password? No worries. </p><p>We'll email you a link to reset it.</p>",a.sendEmail=function(){return a.forgotPasswordForm.$valid?b.resetEmailAccountPassword({email:a.email}).then(function(b){return 1e3===b.data.code?(a.resetSuccess=!0,a.headerText="You're almost back to SHOWROOM.",a.message="<p>We've just sent an email that includes instructions and a link to reset your password.</p> <p>We'll have you back to the SHOWROOM in no time!</p>"):(a.headerText="FAIL!",a.message="<p>"+b.data.message+"</p>")})["catch"](function(a){return c.error(a)}):a.showForgotMessages=!0}}]),angular.module("showroomControllers").controller("MyShowController",["$scope","$rootScope","showService","videoService","$log",function(a,b,c,d,e){return a.header="My shows",a.pageNumber=0,a.hasMore=!0,b.loggedIn?(a.loadMore=function(){return c.getPersonalShow({pageNumber:a.pageNumber++,pageSize:15}).then(function(b){return a.videos&&angular.isArray(a.videos)?a.videos=a.videos.concat(d.parseVideo({response:b.data})):a.videos=d.parseVideo({response:b.data}),a.videos.length>=b.data.payload.totalItem?a.hasMore=!1:void 0})},a.loadMore()):void 0}]),angular.module("showroomControllers").controller("NewestController",["$scope","showService","videoService","$log",function(a,b,c,d){return a.header="Newest",a.currentPage=0,a.hasMore=!0,a.loadMore=function(){return b.getGlobalLastestFeed({pageNumber:a.currentPage++,pageSize:15}).then(function(b){return angular.isArray(a.videos)?a.videos=a.videos.concat(c.parseVideo({response:b.data})):a.videos=c.parseVideo({response:b.data}),b.data.payload&&a.videos.length>=b.data.payload.totalItem?a.hasMore=!1:void 0})},a.loadMore()}]),angular.module("showroomControllers").controller("PopularController",["$scope","showService","videoService","$log",function(a,b,c,d){return a.header="Popular",a.currentPage=0,a.hasMore=!0,a.loadMore=function(){return b.getGlobalMostLikeFeed({pageNumber:a.currentPage++,pageSize:15}).then(function(b){return angular.isArray(a.videos)?a.videos=a.videos.concat(c.parseVideo({response:b.data})):a.videos=c.parseVideo({response:b.data}),b.data.payload&&a.videos.length>=b.data.payload.totalItem?a.hasMore=!1:void 0})},a.loadMore()}]),angular.module("showroomControllers").controller("ShowSearchController",["showService","videoService","$scope","$location","$log",function(a,b,c,d,e){return c.keywords=d.search().q,c.header="Search result for show - '"+c.keywords+"'",c.currentPage=0,c.hasMore=!0,c.loadMore=function(){return a.searchShowByKeywords({keywords:c.keywords,pageNumber:c.currentPage++}).then(function(a){return angular.isArray(c.videos)?c.videos=c.videos.concat(b.parseVideo({response:a.data})):c.videos=b.parseVideo({response:a.data}),a.data.payload&&c.videos.length>=a.data.payload.totalItem?c.hasMore=!1:void 0})},c.loadMore()}]),angular.module("showroomControllers").controller("SignUpController",["$scope","$rootScope","userService","$log","$location",function(a,b,c,d,e){return b.removeHeader=!0,b.removeBrand=!0,b.removeNav=!0,b.removeFooter=!0,a.signup=function(){return a.showMessages=!0,a.signupForm.$valid?c.registerEmailAccount({email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName}).then(function(f){return 1e3===f.code?c.loginEmailAccount({email:a.email,password:a.password}).then(function(f){return 1e3!==f.data.code?a.message="Email or password is invalid.":(b.loggedIn=!0,f.data.code===1e3["catch"](function(a){return d.error(a)})["finally"](function(){return e.path("/")})?c.getLoggedInAccountInfo().then(f(b.userInfo=f.payload)):void 0)})["catch"](function(b){return d.error(b),a.message="Internal server error."}):a.message=f.message})["catch"](function(b){return d.error(b),a.message=b}):void 0}}]),angular.module("showroomControllers").controller("UserDetailController",["$scope","showService","userService","$log","$routeParams","videoService",function(a,b,c,d,e,f){return a.header="Account Show",a.currentPage=0,a.hasMore=!0,a.totalItem=0,a.loadMore=function(){return b.getShowByUsername({username:e.username,pageNumber:a.currentPage++}).then(function(b){return 1e3===b.data.code?a.videos&&angular.isArray(a.videos)?a.videos=a.videos.concat(f.parseVideo({response:b.data})):a.videos=f.parseVideo({response:b.data}):d.error(b.data.message),b.data.payload&&a.videos.length>=a.totalItem?a.hasMore=!1:void 0})},a.loadMore()}]),angular.module("showroomControllers").controller("UserSearchController",["userService","$scope","$location","$log",function(a,b,c,d){return b.keywords=c.search().q,a.searchAccountByKeywords({keywords:b.keywords}).then(function(a){return b.header="Search result for user - '"+b.keywords+"'",1e3===a.data.code&&(b.users=a.data.payload.items),1e3!==a.data.code?b.message=a.data.message:void 0})}]),angular.module("showroomDirectives").directive("srLazySrc",["$document","$window","$interval","$timeout","$log",function(a,b,c,d,e){var f,g,h;return g=function(){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return k=[],p=null,o=350,j=null,i=1e3,f=0,u=angular.element(b),h=function(){var a,b,c,d,e,f,g,h,i,j,l,m;for(m=u.height(),i=u.scrollTop(),l=[],b=[],j=i,a=i+m,d=e=0,g=k.length;g>e;d=++e)c=k[d],c.isVisible(j,a)?l.push(c):b.push(c);for(f=0,h=l.length;h>f;f++)c=l[f],c.render();return k=b,s(),k.length?void 0:t()},l=function(){var b;return b=a.height(),f&&b!==f&&q(),f=b},q=function(){return null!=p?p:p=d(h,o)},s=function(){return p&&d.cancel(p),p=null},r=function(){return null==j&&(j=c(l,i)),u.on("resize.srLazySrc scroll.srLazySrc",q)},t=function(){return e.debug("Stop watching window"),j&&c.cancel(j),j=null,u.off("resize.srLazySrc scroll.srLazySrc")},g=function(a){return k.push(a),q(),j?void 0:r()},n=function(a){var b,c,d,e;for(b=d=0,e=k.length;e>d;b=++d)c=k[b],c===a&&k.splice(b,1);return k.length>0?void 0:(s(),t())},m={addImage:g,removeImage:n}}(),f=function(){function a(a){this.image=a,this.rendered=!1}return a.prototype.isVisible=function(a,b){var c,d,e,f;return this.image.is(":visible")?(d=this.image.height(),f=this.image.offset().top,c=f+d,e=f>=a&&b>=f||c>=a&&b>=c||a>=f&&c>=b):!1},a.prototype.render=function(){return this.rendered=!0,this.renderSource()},a.prototype.setSource=function(a){return this.source=a,this.rendered?this.renderSource():void 0},a.prototype.renderSource=function(){return this.image.attr("src",this.source)},a}(),h=function(a,b,c){var d;return d=new f(b),c.$observe("srLazySrc",function(a){return d.setSource(a)}),g.addImage(d),a.$on("$destroy",function(){return g.removeImage(d)})},{link:h,restrict:"A"}}]),angular.module("showroomDirectives").directive("srVideoContainer",["$log",function(a){var b,c;return c=function(){var a,b,c,d;return d=[],a=function(a){return d.push(a)},c=function(a){var b,c,e,f,g;for(f=[],b=c=0,e=d.length;e>c;b=++c)g=d[b],g===a?f.push(d.splice(b,1)):f.push(void 0);return f},b=function(a){var b,c,e;if(a[0].paused){for(b=0,c=d.length;c>b;b++)e=d[b],e[0].pause();return a[0].play(),a[0].currentTime=0}},{addVideo:a,removeVideo:c,playVideo:b}}(),b=function(a,b,d){var e;return e=b.find("video").eq(0),c.addVideo(e),e.on("play",function(){return b.addClass("loading")}),e.on("playing",function(){return b.removeClass("loading"),b.addClass("playing")}),e.on("pause",function(){return b.removeClass("playing"),b.removeClass("loading")}),b.on("mouseover",function(){return c.playVideo(e)}),a.$on("$destroy",function(){return c.removeVideo(e)})},{restrict:"A",link:b}}]),angular.module("showroomFilters").filter("jsonParse",function(){return function(a){return angular.isObject(a)?a:JSON.parse(a)}}).filter("productLink",function(){return function(a){return-1===a.indexOf("showroom-store.myshopify.com")&&-1===a.indexOf("amazon.com")&&-1===a.indexOf("store.showroomapp.tv")?"/pages/ext-product?url="+a:a}}).filter("productTarget",function(){return function(a){return-1===a.indexOf("amazon")?"_self":"_blank"}}).filter("excerptTitle",function(){return function(a,b,c){return a.length>b&&(a=a.substring(0,b),a+=c),a}}).filter("asset_url",["SHOWROOM_CONSTANTS",function(a){return function(b){return a.showroomCDN+b}}]).filter("user_avatar_url",["SHOWROOM_CONSTANTS",function(a){return function(b){return b?a.showroomCDN+b:"{{ 'no-avatar.png' | asset_url }}"}}])}).call(this);