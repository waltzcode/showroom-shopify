{% layout 'theme.iframe' %}

<style type="text/css" media="screen">
	html, body {
		width: 100%;
		height: 100%;
		overflow: hidden;
		margin: 0;
		padding: 0;
	}

	.iframeHeader {
		display: block;
		width: 100%;
		padding: 0;
		margin: 0;
		position: fixed;
		top: 0;
		left: 0;
		height: 60px;
		background: #f0f0f0;
	}

	.header-wrapper {
		width: 1200px;
		height: 100%;
		margin: 0 auto;
	}

	.header-wrapper a {
		display: inline-block;
		line-height: 60px;
		padding: 0 10px;
		font-size: 28px;
		text-transform: uppercase;
		background: #f1f1f1;
		color: rgba(255, 36, 0, 0.7);
		text-decoration: none;
	}

	.iframeContainer {
		width: 100%;
		height: 100%;
		margin: 60px 0 0 0;
		padding: 0;
	}

	.iframeContainer iframe {
		width: 100%;
		height: 100%;
		margin: 0;
		padding: 0;
		border: none;
	}
</style>

<div class="iframeHeader">
	<div class="header-wrapper">
		<a href="/">Back to Showroom Store</a>
	</div>
</div>

<div class="iframeContainer" ng-app="myApp" ng-controller="myController">	
	<iframe seamless="seamless" src="{[{iframeSrc}]}">
		
	</iframe>
</div>

 <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js"></script>
 <script type="text/javascript">
 	var app = angular.module('myApp',[]);
 	app.config(function ($interpolateProvider) {
	  $interpolateProvider.startSymbol('{[{').endSymbol('}]}');
	});

	app.config(function ($sceProvider) {
	  $sceProvider.enabled(false);
	});

	app.config(function($locationProvider){
	   $locationProvider.html5Mode({
		  enabled: true,
		  requireBase: false
		});
	});

 	app.controller('myController', function($scope, $location, $sce) {
 		var params = $location.search();
 		console.log(	params);
 		$scope.iframeSrc = $sce.trustAsResourceUrl(params.url);
 	});
</script>
